version: '3.4'
services:
  # collector:
  #   build:
  #     network: host
  #     context: .
  #     dockerfile: docker/Dockerfile-collector
  #   container_name: "collector"
  #   links:
  #       - mongodb
  #   depends_on:
  #       - mongodb
  # api:
  #   build:
  #     context: .
  #     dockerfile: docker/Dockerfile-api
  #   container_name: "api"
  #   ports:
  #       - 5000:5000
  #   links:
  #       - mongodb
  #   depends_on:
  #       - mongodb
  mongodb:
      image: mongo:latest
      container_name: "mongodb"
      environment:
        - MONGO_DATA_DIR=/data/db
        - MONGO_LOG_DIR=/dev/null
      volumes:
        - ./data/db:/data/db
      ports:
        - 27017:27017
      command: mongod --smallfiles --logpath=/dev/null # --quiet